	<PG title="Memory Game" name="memoryGame">		<SCR name="setup"><![CDATA[pageIcon = icon.parentNode.clip();if (rootIcon.projMode == "dev"){   // Page Wizard  pageIcon.templateData = pageIcon.extXML.toObject();  pageIcon.templateData = pageIcon.templateData.pageWizard[0];} else {  // Toolkits  myXML = new XML(extXML.firstChild.childNodes[rootIcon.getPageIndex() - pgOffset]);  pageIcon.templateData = myXML.toObject();}  rootIcon.setTitleText(templateData.learningObject[0].name);  // handle multiple page data definitions in a project if (rootIcon.projectPageIndex == undefined){     rootIcon.projectPageIndex = 0;}// check if this page has a definition for the current project index and default to 0 if notif (pageIcon.templateData.memory[rootIcon.projectPageIndex].name == undefined){  projPI = 0;} else {  projPI = rootIcon.projectPageIndex; } if (pageIcon.templateData.memory[projPI].narration != undefined){  narration = pageIcon.templateData.memory[projPI].narration;  rootIcon.broadcast('showAudio');}]]></SCR>		<SCR name="makeItems"><![CDATA[count = pageIcon.templateData.memory[projPI].matchItem.length;if (icon.built != 'true'){   icon.nextSibling.lastChild.duplicate(pageIcon.templateData.memory[projPI].matchItem.length - 1); icon.nextSibling.firstChild.duplicate(pageIcon.templateData.memory[projPI].matchItem.length - 1); icon.built = 'true';}cardArray = new Array();]]></SCR>		<DEC id="items" name="items" repeat="all" branch="randomUnused" pause="0" erase="0" eraseOnExit="0">			<PG name="protoImage">				<SCR name="get"><![CDATA[curInd = icon.parentNode.index();//items.repCount - 1;icon.parentNode.getChildByName('card').attributes.id = 'cd'+curInd;icon.parentNode.getChildByName('image').attributes.id = 'img'+curInd;icon.parentNode.getChildByName('int').firstChild.attributes.icon = 'cd' + curInd;]]></SCR>				<DIS tabIndex="-1" w="102" h="136" name="image" x="20 + (Math.floor((items.repCount - 1) % 6) * 122)" y="20 + (Math.floor((items.repCount - 1) / 6) * 156)" type="ext" url="{pageIcon.templateData.memory[projPI].matchItem[curInd].url}"><![CDATA[]]></DIS>				<DIS id="Enter Value..." w="102" h="136" name="card" x="20 + (Math.floor((items.repCount - 1) % 6) * 122)" y="20 + (Math.floor((items.repCount - 1) / 6) * 156)" type="ext" url="templatePath + 'common/card.png'"><![CDATA[]]></DIS>				<SCR name="setIndex"><![CDATA[icon.previousSibling.clip().cardIndex = curInd;]]></SCR>				<INT name="int" perpetual="1">					<RES name="onRelease" type="event" eventName="onRelease" icon="cd0" erase="1" exit="0">						<SCR name="judge"><![CDATA[card = eval(icon.parentNode.attributes.icon);if (cardArray.length < 2){  card._visible = false;  cardArray.push(card);}if (cardArray.length == 2){  if (cardArray[0].cardIndex == cardArray[1].cardIndex){     items.broadcast('success');  } else {    items.broadcast('replaceCards');  }}]]></SCR>					</RES>				</INT>			</PG>			<PG name="protoLabel">				<SCR name="get"><![CDATA[curInd = icon.parentNode.index();//items.repCount - 1;icon.parentNode.getChildByName('card').attributes.id = 'cd'+curInd;icon.parentNode.getChildByName('label').attributes.id = 'lbl' + String(curInd - pageIcon.templateData.memory[projPI].matchItem.length);icon.parentNode.getChildByName('int').firstChild.attributes.icon = 'cd' + curInd;]]></SCR>				<DIS tabIndex="-1" id="lbl" name="label" x="20 + (Math.floor((items.repCount - 1) % 6) * 122)" y="20 + (Math.floor((items.repCount - 1) / 6) * 156)" w="122" h="10" type="text"><![CDATA[{pageIcon.templateData.memory[projPI].matchItem[icon.parentNode.index() - count].name}]]></DIS>				<DIS id="protoCard" w="102" h="136" name="card" x="20 + (Math.floor((items.repCount - 1) % 6) * 122)" y="20 + (Math.floor((items.repCount - 1) / 6) * 156)" type="ext" url="templatePath + 'common/card.png'"><![CDATA[]]></DIS>				<SCR name="setIndex"><![CDATA[icon.previousSibling.clip().cardIndex = curInd - pageIcon.templateData.memory[projPI].matchItem.length;]]></SCR>				<INT name="int" perpetual="1">					<RES name="onRelease" type="event" eventName="onRelease" icon="cd0" erase="1" exit="0">						<SCR name="judge"><![CDATA[card = eval(icon.parentNode.attributes.icon);if (cardArray.length < 2){  card._visible = false;  cardArray.push(card);}if (cardArray.length == 2){  if (cardArray[0].cardIndex == cardArray[1].cardIndex){     items.broadcast('success');  } else {    items.broadcast('replaceCards');  }}]]></SCR>					</RES>				</INT>			</PG>		</DEC>		<INT name="replacer" perpetual="0">			<RES name="replaceCards" type="event" eventName="replaceCards" icon="items" erase="1" exit="0">				<INT name="timer" perpetual="0">					<RES name="timer" type="timeLimit" secs="1" reset="0" erase="0" exit="0">						<SCR name="replaceCards"><![CDATA[cardArray[0]._visible = true;cardArray[1]._visible = true;cardArray = new Array();]]></SCR>					</RES>				</INT>			</RES>			<RES name="success" type="event" eventName="success" icon="items" erase="1" exit="0">				<SCR name="animate"><![CDATA[tempIndex = String(cardArray[0].cardIndex);lbl = engine['lbl' + tempIndex];img = engine['img' + tempIndex];lbl.lineStyle(1, 0x000000,100);lbl.beginFill(0xFFFFFF,100);lbl.drawRect(0,0,101,20);lbl.animate(img._x,img._y,10,'linearTween');cardArray = new Array();]]></SCR>			</RES>		</INT>	</PG>