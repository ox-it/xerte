	<PG name="menu">		<SCR name="makeMenu"><![CDATA[rootIcon.contButton._y = 1000;numItems = extXML.firstChild.childNodes.length;if (icon.attributes.built != "true"){  icon.nextSibling.firstChild.duplicate(numItems - 1);  icon.attributes.built = "true";}rootIcon.setTitleText(templateData.learningObject[0].name);if (numItems < 17){  itemWidth = 350;} else if (numItems > 16 & numItems < 33){  itemWidth = 240;} else if (numItems > 32){  itemWidth = 240;}]]></SCR>		<DEC id="items" name="menu" repeat="all" branch="sequence" pause="0" erase="0" eraseOnExit="0">			<PG name="items">				<SCR name="setID"><![CDATA[icon.nextSibling.attributes.id = 'it' + icon.parentNode.index();]]></SCR>				<DIS textSize="12" textColour="0x333333" id="menuItem" name="protoItem" x="25 + Math.floor(icon.parentNode.index() / 16) * 255" y="25 + Math.floor(icon.parentNode.index() % 16) * 30" w="itemWidth" h="10" type="text"><![CDATA[{extXML.firstChild.childNodes[icon.parentNode.index()].attributes.name}]]></DIS>				<SCR name="drawItem"><![CDATA[ic = engine['it' + icon.parentNode.index()];ic.txt.wordWrap = false;ic.lineStyle(2, STYLES.titleBarColour, 100);ic.beginFill(0xFFFFFF, 100);ic.drawRect(-5,-5,itemWidth,25,4);for (i = 0; i < icon.nextSibling.childNodes.length; i++){  icon.nextSibling.childNodes[i].attributes.icon = 'it'+icon.parentNode.index();}]]></SCR>				<INT name="events" perpetual="1">					<RES name="onRollOver" type="event" eventName="onRollOver" icon="menuItem" erase="1" exit="0">						<SCR name="redraw"><![CDATA[ic = eval(icon.parentNode.attributes.icon);ic.lineStyle(2, STYLES.statusBarColour, 100);ic.beginFill(0xFFFFFF, 100);ic.drawRect(-5,-5,itemWidth,25,4);]]></SCR>					</RES>					<RES name="onRollOut" type="event" eventName="onRollOut" icon="item" erase="1" exit="0">						<SCR name="redraw"><![CDATA[ic = eval(icon.parentNode.attributes.icon);ic.lineStyle(2, STYLES.titleBarColour, 100);ic.beginFill(0xFFFFFF, 100);ic.drawRect(-5,-5,itemWidth,25,4);]]></SCR>					</RES>					<RES name="onRelease" type="event" eventName="onRelease" icon="item" erase="1" exit="0">						<SCR name="redraw"><![CDATA[rootIcon.gotoPage(items.getPageIndex() + 1);]]></SCR>					</RES>				</INT>			</PG>		</DEC>		<DEC name="[Untitled]" repeat="all" branch="sequence" pause="0" erase="0" eraseOnExit="0">			<PG name="[Untitled]">				<SCR name="menuImage"><![CDATA[if (extXML.firstChild.attributes.menuImage == undefined){  pg = icon.parentNode;  pg.findChildByName('panel').removeNode;  pg.findChildByName('loadPanel').removeNode;      pg.findChildByName('image').removeNode;  pg.findChildByName('loadImage').removeNode;}]]></SCR>				<DIS id="panel" name="panel" x="-400" y="0" type="ext" url="templatePath + 'common/whitePanel.swf'"><![CDATA[]]></DIS>				<INT name="loadPanel" perpetual="0">					<RES name="onLoad" type="event" eventName="onLoad" icon="panel" erase="1" exit="1">						<SCR name="moveOn"><![CDATA[//moveOn]]></SCR>					</RES>				</INT>				<DIS id="menuImage" name="image" x="0" y="0" type="ext" url="{extXML.firstChild.attributes.menuImage}"><![CDATA[]]></DIS>				<INT name="loadImage" perpetual="1">					<RES name="onLoad" type="event" eventName="onLoad" icon="menuImage" erase="1" exit="0">						<SCR name="resizeAndPosition"><![CDATA[if (extXML.firstChild.attributes.menuImageProperties != 'Full Screen'){      if (numItems > 16){      menuImage.constrain(230, 450);  }  menuImage.constrain(450, 450);  menuImage._x = 800 - menuImage._width - 30;  menuImage._y = 30;    panel._x = menuImage._x - 10;  panel._y = menuImage._y - 10;  panel._width = menuImage._width + 20;  panel._height = menuImage._height + 20;} else {    menuImage._width = 800;  menuImage._height = 515;    menuImage._y = 1;    panel._visible = false;}]]></SCR>					</RES>				</INT>			</PG>		</DEC>		<SCR name="finish"><![CDATA[items.swapDepths(99);]]></SCR>	</PG>