	<PG name="reconstruct">		<SCR name="getPageID"><![CDATA[pageIcon = icon.parentNode.clip();myXML = new XML(extXML.firstChild.childNodes[rootIcon.getPageIndex() - pgOffset]);pageIcon.templateData = myXML.toObject();rootIcon.setTitleText(templateData.learningObject[0].name);ts = STYLES.inputSize;if (pageIcon.templateData.reconstruct[0].image != undefined){  fLoadImage(pageIcon.templateData.reconstruct[0].image);} else {  fShowMedia(pageIcon.templateData.reconstruct[0].showMedia);}//helpif (pageIcon.templateData.reconstruct[0].help != undefined){  helpStr = pageIcon.templateData.reconstruct[0].help;  helpIcon._visible = true;} else {  helpIcon._visible = false;}//preparse the textstr = pageIcon.templateData.reconstruct[0].passage;str = replace(str, '\r', '');str = replace(str, '  ', ' ');]]></SCR>		<DIS id="textBlock" h="10" name="text" x="380" y="20" w="400" type="text"><![CDATA[{pageIcon.templateData.reconstruct[0].text}]]></DIS>		<DIS tabIndex="-1" id="mainText" name="passage" x="380" y="textBlock._y + textBlock._height + 20" w="400" h="10" type="text"><![CDATA[{str}]]></DIS>		<SCR name="setupInteraction"><![CDATA[n = 0;words = mainText.breakApart(3,7,false, false);for (i = 0; i < words.length; i++){  word = words[i];    if (Math.random() > 0.15){    word.createEmptyMovieClip('maskMC',99);    word.maskMC.beginFill(0xFFFF99,100);    word.maskMC.drawRect(2, 2, word._width, word._height);  }}hintCount = 0;]]></SCR>		<INT id="gapInt" name="mainInteraction" perpetual="1">			<RES rs="te" background="0xFFFFFF" name="entry" type="textEntry" x="380" y="mainText._y + mainText._height + 20" w="160" h="100" phrase="match this" scrolling="0" border="1" erase="1" exit="0" />			<RES rs="cboMatch" w="160" name="checkFor" type="combo" x="380" y="te._y + 30" items="match whole words~match words containing~match endings" erase="1" exit="0" />			<RES w="60" swf="templatePath + 'common/button2.swf'" name="submit" type="button" x="cboMatch._x + cboMatch._width + 10" y="cboMatch._y - 2" label="Submit" erase="1" exit="0">				<SCR name="check"><![CDATA[if (te.text != ''){    completed = true;  matchType = cboMatch.getValue();  matched = 0;    for (i = 0; i < words.length; i++){      if (matchType == 'match whole words'){      if (words[i].text.toLowerCase() == te.text.toLowerCase()){        words[i].maskMC.removeMovieClip();        matched++;      }    }           if (matchType == 'match words containing'){      if(words[i].text.toLowerCase().indexOf(te.text.toLowerCase()) != -1){        words[i].maskMC.removeMovieClip();        matched++;      }    }          if (matchType == 'match endings'){      if (words[i].text.toLowerCase().substr(words[i].text.length - te.text.length) == te.text){        words[i].maskMC.removeMovieClip();        matched++;      }    }          if (words[i].maskMC != undefined){      completed = false;    }  }    if (completed == true){    fb.setText(pageIcon.templateData.reconstruct[0].feedback);    }    if (matched == true){    te.text = '';    fb.setText(matched + (matched > 1 ? " matches" : " match") +  " found.");   } else {    Selection.setFocus(te);    fb.setText("No matches found.");  }}]]></SCR>			</RES>			<RES w="60" swf="templatePath + 'common/button2.swf'" name="hint" type="button" x="cboMatch._x + cboMatch._width + 80" y="cboMatch._y - 2" label="hint" erase="1" exit="0">				<SCR name="revealWords"><![CDATA[if (hintCount < 5){  for (i = 0; i < words.length; i++){    if (Math.random() < 0.1){      words[i].maskMC.removeMovieClip();    }  }  hintCount++;}]]></SCR>			</RES>		</INT>		<SCR name="restrictTextFields"><![CDATA[for ( i = 0; i < targets.length; i++){  tA = icon.previousSibling.childNodes[i].clip();  tA.maxChars = targets[i].string.length;  tA.multiline = false;  tA.wordwrap = false;  tA.attempts = 0;  tA.onSetFocus = fHideHint;}]]></SCR>		<DIS id="fb" name="feedback" x="380" y="te._y + te._height + 50" w="400" h="10" type="text"><![CDATA[]]></DIS>	</PG>