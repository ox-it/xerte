	<PG name="flashCards">		<SCR name="getPageID"><![CDATA[pageIcon = icon.parentNode.clip();myXML = new XML(extXML.firstChild.childNodes[rootIcon.getPageIndex() - pgOffset]);pageIcon.templateData = myXML.toObject();if (pageIcon.templateData.flashCards[0].image != undefined){  fLoadImage(pageIcon.templateData.flashCards[0].image);}//helpif (pageIcon.templateData.flashCards[0].help != undefined){  helpStr = pageIcon.templateData.flashCards[0].help;  helpIcon._visible = true;} else {  helpIcon._visible = false;}rootIcon.setTitleText(templateData.learningObject[0].name);]]></SCR>		<DIS id="instruction" name="intructions" x="380" y="20" w="400" h="10" type="text"><![CDATA[{pageIcon.templateData.flashCards[0].instructions + '</p>'}]]></DIS>		<SCR name="makePages"><![CDATA[//make an array of cardscardArray = new Array();discardedCards = new Array();if (pageIcon.templateData.flashCards[0].bulkEntry != undefined){    temp = pageIcon.templateData.flashCards[0].bulkEntry.split('\r');    for ( i = 0; i <  temp.length; i++){    tempObj = new Object();    tempObj.lan1 = temp[i].split('|')[0];     tempObj.lan2 = temp[i].split('|')[1];    cardArray.push(tempObj);    discardedCards.push(0);  }    } else {  for ( i = 0; i <  pageIcon.templateData.flashCards[0].card.length; i++){        tempObj = new Object();    tempObj.lan1 = pageIcon.templateData.flashCards[0].card[i].name;    tempObj.lan2 = pageIcon.templateData.flashCards[0].card[i].text;    tempObj.sound = pageIcon.templateData.flashCards[0].card[i].sound;    cardArray.push(tempObj);    discardedCards.push(0);  }}]]></SCR>		<DIS id="status" name="status" x="380" y="450" w="400" h="10" type="text"><![CDATA[{'<p align = "Center">Click the card to rotate it.<br>Cards remaining: ' + cardArray.length + '</p>'}]]></DIS>		<SCR name="makePages"><![CDATA[if (icon.built != true){  icon.nextSibling.childNodes[1].duplicate(cardArray.length - 1);  icon.built = true;}]]></SCR>		<FW id="cards" name="cards">			<FW_ENT name="controls">				<INT name="controls" perpetual="0">					<RES rs="btnDiscard" swf="templatePath + 'common/button.swf'" name="discard" type="button" x="440" y="instruction._y + instruction._height + 340" label="Discard" erase="1" exit="0">						<SCR name="discard"><![CDATA[discardedCards[fIndex] = 1;//find the next index at randomrndArr = new Array();for (i = 0; i < discardedCards.length; i++){  if (discardedCards[i] == 0){    rndArr.push(i);  }}if (rndArr.length > 1){    //if no cards left, can only reset  rndArr.randomize();  while (rndArr[0] == fIndex){    rndArr.randomize();  }    cards.gotoPage(rndArr[0]);}//remaining cardsstatus.setText('Cards remaining: '  + rndArr.length);]]></SCR>					</RES>					<RES rs="btnReset" swf="templatePath + 'common/button.swf'" name="reset" type="button" x="540" y="instruction._y + instruction._height + 340" label="Reset" erase="1" exit="0">						<SCR name="reset"><![CDATA[for (i = 0; i < discardedCards.length; i++){  discardedCards[i] = 0;}//remaining cardsstatus.setText('Cards remaining: '  + discardedCards.length);]]></SCR>					</RES>					<RES rs="btnNext" swf="templatePath + 'common/button.swf'" name="next" type="button" x="640" y="instruction._y + instruction._height + 340" label="Next" erase="1" exit="0">						<SCR name="nextPage"><![CDATA[//find the next index at randomrndArr = new Array();for (i = 0; i < discardedCards.length; i++){  if (discardedCards[i] == 0){    rndArr.push(i);  }}if (rndArr.length > 1){    //if no cards left, can only reset  rndArr.randomize();  while (rndArr[0] == fIndex){    rndArr.randomize();  }    cards.gotoPage(rndArr[0]);}//remaining cardsstatus.setText('Cards remaining: '  + rndArr.length);]]></SCR>					</RES>				</INT>			</FW_ENT>			<PG name="protoPage">				<SCR name="getIndex"><![CDATA[fIndex = icon.parentNode.index() - 1;if (cardArray[fIndex].lan1.length > 14 || cardArray[fIndex].lan2.length > 14){  //use smaller font  icon.nextSibling.attributes.textSize = 16;  icon.nextSibling.nextSibling.attributes.textSize = 16;}]]></SCR>				<DIS textColour="#333333" id="card1" textSize="20" name="card1" x="480" y="instruction._y + instruction._height +20" w="200" h="10" type="text"><![CDATA[{'<p align = "center">' + cardArray[fIndex].lan1 + '</p>'}]]></DIS>				<DIS textColour="#333333" id="card2" textSize="20" name="card2" x="1805" y="instruction._y + instruction._height +20" w="200" h="10" type="text"><![CDATA[{'<p align = "center">' + cardArray[fIndex].lan2 + '</p>'}]]></DIS>				<SCR name="drawCard"><![CDATA[card1.txt._y = 135;card1.beginFill(0xFFFFFF,100);card1.lineStyle(2,0xFF0000,100);card1.drawRect(0,0,200,300,10);card2.txt._y = 135;card2.beginFill(0xFFFFFF,100);card2.lineStyle(2,0xFF0000,100);card2.drawRect(0,0,200,300,10);if (cardArray[fIndex].sound == undefined){  icon.nextSibling.removeNode();} else {  icon.nextSibling.attributes.url = cardArray[fIndex].sound;  icon.nextSibling.attributes.controls = '480,' + (instruction._y + instruction._height + 375) + ',200';}]]></SCR>				<SND controls="" name="optionalSound" type="ext" url="FileLocation + " play="0" loop="0" wait="0" />				<INT name="interaction" perpetual="0">					<RES name="showCard1" type="event" eventName="onRelease" icon="card2" erase="1" exit="0">						<SCR name="toggle"><![CDATA[card2.animate(1805,card2._y,5,'linearTween');card1.animate(480,card2._y,5,'linearTween');]]></SCR>					</RES>					<RES name="showCard2" type="event" eventName="onRelease" icon="card1" erase="1" exit="0">						<SCR name="toggle"><![CDATA[card1.animate(1805,card2._y,5,'linearTween');card2.animate(480,card2._y,5,'linearTween');]]></SCR>					</RES>				</INT>			</PG>		</FW>	</PG>